<style>@media screen and (min-width:769px){#course_list{border-right:.3rem solid #cff}.return{display:none}}@media screen and (max-width:768px){#course_display{display:none}.return{display:block}}main-page{display:contents}</style> <template> <div id="main" class="container-fluid form-group rounded" style="border:1px solid #d3d3d3;height:42rem"> <div class="row" style="height:100%">  <match-route path="/"> <div id="course_list" class="col-md-3 col-sm-12" style="border-right:.3rem solid #cff"> <div class="row form-group justify-content-center mt-3"> <router-link class="col" to="/courses/add"> <button id="add" class="btn btn-primary" style="width:100%">Add</button> </router-link> <div class="col"> <button id="delete" class="btn btn-light" style="width:100%" @click="deleteActive">Delete</button> </div> </div> <hr> <div class="row p-0 mr-2"> <label class="col-3 ml-3 mt-2 p-0" for="search"><strong>Search</strong></label> <input class="col form-control" id="search" :value="search" @input="submitSearch"> </div> <hr> <div class="row p-0 mr-2"> <label class="col-3 ml-3 mt-2 p-0" for="sort"><strong>Sort By</strong></label> <select class="col custom-select" id="sort"> <option value="title">Course Title</option>   </select> </div> <hr> <div class="list-group"> <router-link :to="courseUrl" x-for="course:courses" :abc="courses" :class="courseClass" style="cursor:pointer"> <div class="row"> <div class="col-9" style="height:100%"> <div class="row justify-content-between align-items-center"> <h5 class="mb-1" :children="course.name">COMP4021</h5> </div> <div class="row align-items-center"> <p class="mb-1" :children="course.description" style="max-height:100px;overflow:hidden">A course teaching about web programming.</p> </div> <div class="row align-self-end"> <small>Taught by Gibson Lam</small> </div> </div> </div> </router-link> </div> <hr> <nav aria-label="Paging"> <ul class="pagination mt-3 justify-content-center"> <li class="page-item"> <a class="page-link" href="#">Previous</a> </li> <li class="page-item"> <a class="page-link" href="#">1</a> </li> <li class="page-item"> <a class="page-link" href="#">2</a> </li> <li class="page-item"> <a class="page-link" href="#">Next</a> </li> </ul> </nav> </div> </match-route>  <div x-if="activeCourse.name" id="course_display" class="col-md-9 col-sm-12"> <div class="row"> <div class="ml-5 mt-4"> <button class="return btn btn-primary"> <i class="fas fa-long-arrow-alt-left"></i> </button> </div> <div class="col p-1 text-center mr-3"> <p id="title"> <u> <h3 :children="activeCourse.name">Course title</h3> </u> </p> </div> </div> <div class="row m-0"> <div class="col text-center"> <p id="summary" :children="activeCourse.description"></p> </div> </div>  <hr> <div class="row"> <div class="col"> <label class="row text-left ml-3"><h5>Comment</h5></label> <div class="form-row pl-5"> <div class="col-10 p-0 text-center"> <textarea id="comment" class="form-control" rows="3" style="height:5rem"></textarea> </div> <div class="col-2"> <button name="registerComment" id="registerComment" class="btn btn-primary" style="height:5rem"> Comment </button> </div> </div> </div> </div> <hr> <div class="row pl-5"> <h6>comment 1</h6> </div> <hr> <div class="row pl-5"> <h6>comment 2</h6> </div> </div>  <match-route path="/courses/add"> <div id="course_add" class="col-md-9 col-sm-12 p-0 mt-4"> <div class="row"> <div class="ml-5 mt-2"> <button class="return btn btn-primary"> <i class="fas fa-long-arrow-alt-left"></i> </button> </div> <div class="col text-center"> <H4>Add course</H4> </div> </div> <hr> <form id="course_add_form"> <div class="form-row justify-content-center"> <div class="col-3"> <input id="courseTitle" name="courseTitle" class="form-control" placeholder="Course Title"> </div> </div> <div class="form-row justify-content-center mt-3"> <div class="col-9"> <input id="courseSummary" name="courseSummary" class="form-control" placeholder="Course name or brief summary of the course"> </div> </div> <div class="form-row justify-content-between mt-3 mr-3" style="height:5rem"> <div class="col-3 ml-3"> <img id="profPhoto" src="https://api.adorable.io/avatars/40/" width="100%" height="100%"> </div> <div class="col-3"> <form enctype="multipart/form-data" method="post" action="target.php"> <input type="file" id="profilePhoto" name="profilePhoto" accept=".jpg, .jpeg, .png"> </form> </div> <div class="col-3"> <input id="instructorName" name="instructorName" class="form-control" placeholder="Instructor's Name"> </div> </div> <div class="row p-3 justify-content-center" style="height:20rem"> <div class="col-10"> <div class="row"> <div class="rounded text-center" style="border:2px solid #000;width:100%"> <h4>Course Description</h4> </div> </div> <div class="row mt-2" style="height:100%"> <textarea type="text" id="courseDescription" name="courseDescription" class="form-control"></textarea> </div> </div> </div> <div class="row justify-content-center mt-5"> <button id="submitAdd" name="submitAdd" class="btn btn-primary">Submit</button> </div> </form> </div> </match-route>  <div id="course_edit" class="col-md-9 col-sm-12 p-0 mt-4" style="display:none"> <div class="row"> <div class="ml-5 mt-2"> <button class="return btn btn-primary"> <i class="fas fa-long-arrow-alt-left"></i> </button> </div> <div class="col text-center"> <H4>Edit course</H4> </div> </div> <hr> <form id="course_edit_form"> <div class="form-row justify-content-center"> <div class="col-3"> <input id="editCourseTitle" name="editCourseTitle" class="form-control" placeholder="Course Title" value="Course 4021"> </div> </div> <div class="form-row justify-content-center mt-3"> <div class="col-9"> <input id="editCourseSummary" name="editCourseSummary" class="form-control" placeholder="Course name or brief summary of the course" value="A course teaching web programming."> </div> </div> <div class="form-row justify-content-between mt-3 mr-3" style="height:5rem"> <div class="col-3 ml-3"> <img id="editProfPhoto" src="https://api.adorable.io/avatars/40/" width="100%" height="100%"> </div> <div class="col-3"> <form enctype="multipart/form-data" method="post" action="target.php"> <input type="file" id="uploadProfPhoto" name="uploadProfPhoto" accept=".jpg, .jpeg, .png"> </form> </div> <div class="col-3"> <input id="editInstructorName" name="instructorName" class="form-control" placeholder="Instructor's Name" value="Gibson Lam"> </div> </div> <div class="row p-3 justify-content-center" style="height:20rem"> <div class="col-10"> <div class="row"> <div class="rounded text-center" style="border:2px solid #000;width:100%"> <h4>Course Description</h4> </div> </div> <div class="row mt-2" style="height:100%"> <textarea type="text" name="editCourseDescription" class="form-control">Learn HTML, JS, CSS, PHP</textarea> </div> </div> </div> <div class="row justify-content-center mt-5"> <button id="submitEdit" name="submitEdit" class="btn btn-primary">Submit</button> </div> </form> </div> </div> </div> </template> <script>exportTag("main-page",class extends MyElement{data(){return{courses:[],filters:{search:"",sortby:"title",page:0},activeCourse:{}}}constructor(){super(),this.computed={courseUrl:(s,o)=>o.course&&`/courses/${o.course.id}`,courseClass(s,o){return"list-group-item list-group-item-action flex-column align-items-start"+(o.course&&this.data.activeCourse.id===o.course.id?" active":"")}},window.addEventListener("hashchange",async()=>{const s=+location.href.split("/courses/")[1];this.data.activeCourse=this.data.courses.find(o=>o.id===s)||await api.getCourse(s)||{}})}connectedCallback(){super.connectedCallback(),this.refreshCourses(),$(window).width()<768?($(this.shadowRoot).find("#add").click(function(){$(this.shadowRoot).find("#course_list").hide(),$(this.shadowRoot).find("#course_add").show(),$(this.shadowRoot).find("#course_display").hide(),$(this.shadowRoot).find("#course_edit").hide()}),$(this.shadowRoot).find("#edit").click(function(){$(this.shadowRoot).find("#course_list").hide(),$(this.shadowRoot).find("#course_add").hide(),$(this.shadowRoot).find("#course_display").hide(),$(this.shadowRoot).find("#course_edit").show()}),$(this.shadowRoot).find(".return").click(function(){$(this.shadowRoot).find("#course_list").show(),$(this.shadowRoot).find("#course_add").hide(),$(this.shadowRoot).find("#course_display").hide(),$(this.shadowRoot).find("#course_edit").hide()})):($(this.shadowRoot).find("#add").click(function(){$(this.shadowRoot).find("#course_add").show(),$(this.shadowRoot).find("#course_display").hide(),$(this.shadowRoot).find("#course_edit").hide()}),$(this.shadowRoot).find("#edit").click(function(){$(this.shadowRoot).find("#course_add").hide(),$(this.shadowRoot).find("#course_display").hide(),$(this.shadowRoot).find("#course_edit").show()}))}async refreshCourses(){const{data:s}=await api.listCourse(this.data.filters);this.data.courses=s}async submitSearch(s){this.data.filters.search=s.target.value,this.refreshCourses()}},{nonShadow:!0});</script> 