<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>UST.Courses</title>
  <base href="./">
</head>

<body>
  <!-- Web component polyfills -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/1.2.0/custom-elements-es5-adapter.js"></script> -->
  <!-- <script src="./node_modules/@webcomponents/webcomponentsjs/custom-elements-es5-adapter.js"></script> -->
  <script src="./node_modules/@webcomponents/webcomponentsjs/webcomponents-lite.js"></script>

  <!-- Vendor imports -->
  <link rel="import" href="./vendor/font-awesome.html" async defer>
  <link rel="import" href="./vendor/recaptcha.html">
  <link rel="import" href="./vendor/bootstrap.html">
  <link rel="import" href="./vendor/sweetalert.html">
  <link rel="import" href="./vendor/jquery.html">
  <link rel="import" href="./vendor/axios.html">
  <script src="./helpers/observable.js"></script>

  <style>a {cursor: pointer;}</style>

  <!-- Primitives imports -->
  <link rel="import" href="./primitives/my-element.html">
  <link rel="import" href="./primitives/match-route.html">
  <link rel="import" href="./primitives/router-link.html">

  <!-- HTML imports -->
  <link rel="import" href="./components/api.html">
  <link rel="import" href="./primitives/css.html">
  <link rel="import" href="./components/x-app.html" async>
  <link rel="import" href="./components/nav-breadcrumb.html" async>
  <link rel="import" href="./components/nav-bar.html" async>
  <link rel="import" href="./components/login-form.html" async>
  <link rel="import" href="./components/register-form.html" async>
  <link rel="import" href="./components/profile-form.html" async>
  <link rel="import" href="./components/main-page.html" async>

  <script>
    // HACK: force add hash if not already have to make route related primitives work
    if (!window.location.href.includes('#/')) window.location.href += '#/'
  </script>

  <!-- <div id="login-recaptcha" slot="recaptcha"></div> -->

  <!-- Main content -->
  <x-app>
    <div class="d-flex flex-column align-items-center" style="height: 100vh; box-sizing: border-box">
      <nav-bar></nav-bar>
      <nav-breadcrumb class="py-3"></nav-breadcrumb>
      <match-route path="/" exact="true" protected="true" to="/courses"></match-route>
      <match-route path="/courses" protected="true">
        <main-page></main-page>
      </match-route>
      <match-route path="/login">
        <div class="card p-4" style="margin-top: 10rem">
          <login-form>
            <!-- <div id="login-recaptcha" slot="recaptcha"></div> -->
          </login-form>
        </div>
      </match-route>
      <match-route path="/register">
        <div class="card p-4" style="margin-top: 5rem">
          <register-form>
            <!-- <div id="register-recaptcha" slot="recaptcha"></div> -->
          </register-form>
        </div>
      </match-route>
      <match-route path="/profile" protected="true">
        <profile-form></profile-form>
      </match-route>
    </div>
  </x-app>
  <noscript>JavaScript is required</noscript>
</body>

</html>
